{"ast":null,"code":"var _jsxFileName = \"/Users/robina/Documents/MIAGE/React/bd-musique/src/App.js\";\nimport React, { Component } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { ResponsiveBar } from '@nivo/bar';\nimport { ResponsiveBubble } from '@nivo/circle-packing';\nimport './App.css'; /////////////////////////////////////////\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      //hobbies: {},\n      artist: '',\n      artistData: {},\n      topGenres: [],\n      searchAllResult: [{\n        name: \"Iron Maiden\",\n        picture: \"http://e-cdn-images.deezer.com/images/artist/082f3e7d6f3f0ae104a4da93c97273d7/56x56-000000-80-0-0.jpg\",\n        nameSuggest: {\n          input: [\"Iron Maiden\", \"Maiden\"],\n          weight: 1641346\n        }\n      }, {\n        name: \"Idol Worship International\",\n        picture: \"http://e-cdn-images.deezer.com/images/artist/9f4f6890ab265a4f2f2b8dc5ac006910/56x56-000000-80-0-0.jpg\",\n        nameSuggest: {\n          input: [\"Idol Worship International\", \"Worship International\"],\n          weight: 2233676\n        }\n      }, {\n        name: \"American Idol\",\n        picture: \"http://e-cdn-images.deezer.com/images/artist/9f4f6890ab265a4f2f2b8dc5ac006910/56x56-000000-80-0-0.jpg\",\n        nameSuggest: {\n          input: [\"American Idol\", \"Idol\"],\n          weight: 2233646\n        }\n      }, {\n        name: \"Tal & Irma\",\n        picture: \"http://e-cdn-images.deezer.com/images/artist/bf79485167aa163a98bbddfc6acb1e79/56x56-000000-80-0-0.jpg\",\n        nameSuggest: {\n          input: [\"Tal & Irma\", \"& Irma\"],\n          weight: 342336\n        }\n      }, {\n        name: \"Icona Pop\",\n        picture: \"http://e-cdn-images.deezer.com/images/artist/c2c13088156a137f8fe514cb5c7e6b3b/56x56-000000-80-0-0.jpg\",\n        nameSuggest: {\n          input: [\"Icona Pop\", \"Pop\"],\n          weight: 557993\n        }\n      }, {\n        name: \"Irma\",\n        picture: \"http://e-cdn-images.deezer.com/images/artist/c54eebf99aebb6ee5714304e729bcc26/56x56-000000-80-0-0.jpg\",\n        nameSuggest: {\n          input: [\"Irma\"],\n          weight: 146259\n        }\n      }, {\n        name: \"Värttinä\",\n        title: \"Iro\",\n        albumTitle: \"Kokko\",\n        picture: \"http://e-cdn-images.deezer.com/images/cover/3eb7e46516beb064877e04cc2ed4d806/56x56-000000-80-0-0.jpg\",\n        weight: 0\n      }, {\n        name: \"Ryuichi Kawamura\",\n        title: \"Namida Iro\",\n        albumTitle: \"Love\",\n        picture: \"\",\n        weight: 0\n      }, {\n        name: \"Coheed And Cambria\",\n        title: \"IRO-Bot\",\n        albumTitle: \"The Second Stage Turbine Blade\",\n        picture: \"http://e-cdn-images.deezer.com/images/cover/003ed54487c8a75777301b36ab0e5542/56x56-000000-80-0-0.jpg\",\n        weight: 0\n      }, {\n        name: \"LM. C\",\n        title: \"-SORA Namida Iro-\",\n        albumTitle: \"Glitter Loud Box\",\n        picture: \"\",\n        weight: 0\n      }, {\n        name: \"Hayley Westenra\",\n        title: \"Ruri Iro No Chikyu\",\n        albumTitle: \"The Best Of Hayley Sings Japanese Songs\",\n        picture: \"http://e-cdn-images.deezer.com/images/cover/4a3ccd085850a88f35795013493b52ec/56x56-000000-80-0-0.jpg\",\n        weight: 0\n      }, {\n        name: \"Cyndi Lauper\",\n        title: \"Gin-Iro No Yume\",\n        albumTitle: \"Other Songs\",\n        picture: \"\",\n        weight: 0\n      }]\n    };\n  } /////////////////////////////////////////\n\n\n  componentDidMount() {//this.getGenrePopularity(10);\n  }\n\n  searchArtistData() {\n    const searchedArtist = this.input.value.trim();\n    this.setState({\n      artist: searchedArtist\n    });\n    const request = `https://wasabi.i3s.unice.fr/api/v1/artist/name/${encodeURI(searchedArtist)}`;\n    console.log(request);\n    fetch(request).then(response => {\n      return response.json();\n    }).then(data => {\n      if (data != null) this.setState({\n        artistData: data\n      });else this.setState({\n        artistData: {}\n      });\n      console.log(this.state.artistData);\n    });\n  }\n\n  getGenrePopularity(limit) {\n    let request = `https://wasabi.i3s.unice.fr/api/v1/artist/genres/popularity`;\n    if (limit) request += `?limit=${limit}`;\n    console.log(request);\n    fetch(request).then(response => {\n      return response.json();\n    }).then(data => {\n      if (data != null) this.setState({\n        topGenres: data\n      });else this.setState({\n        topGenres: {}\n      });\n      console.log(this.state.topGenres);\n    });\n    const chartData = this.state.topGenres;\n    const bubbles = {\n      _id: \"Genres\",\n      children: this.state.topGenres\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(ResponsiveBar, {\n      data: chartData,\n      indexBy: \"_id\",\n      keys: ['sum'],\n      layout: \"horizontal\",\n      margin: {\n        top: 50,\n        right: 50,\n        bottom: 50,\n        left: 150\n      },\n      colors: {\n        scheme: 'category10'\n      },\n      borderRadius: 10,\n      enableGridY: false,\n      axisBottom: null,\n      axisLeft: {\n        tickSize: 0,\n        tickPadding: 10\n      },\n      labelTextColor: {\n        from: 'color',\n        modifiers: [['darker', '2']]\n      },\n      isInteractive: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(ResponsiveBubble, {\n      root: bubbles,\n      identity: \"_id\",\n      value: \"sum\",\n      leavesOnly: true,\n      padding: 5,\n      margin: {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20\n      },\n      colors: {\n        scheme: 'paired'\n      },\n      colorBy: \"name\",\n      labelTextColor: {\n        from: 'color',\n        modifiers: [['darker', '2']]\n      },\n      labelSkipRadius: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }));\n  } /////////////////////////////////////////\n\n\n  render() {\n    let artistName = '';\n    let data = {};\n\n    if (this.state.artist !== '') {\n      artistName = this.state.artist;\n      data = this.state.artistData;\n    }\n\n    const searchAllResult = this.state.searchAllResult; //const searchArtistResult = []\n    //const searchSongResult = []\n    /////////////////////////////////////////\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      style: {\n        height: '500px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Chercher un artiste ou une chanson\"), React.createElement(Autocomplete, {\n      freeSolo: true,\n      options: searchAllResult.map(option => option.name),\n      renderInput: params => React.createElement(TextField, Object.assign({}, params, {\n        //style={{ width : '300px' }}\n        label: \"Recherche\",\n        margin: \"normal\",\n        variant: \"outlined\" //fullWidth\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"Chercher un artiste\"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: input => this.input = input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.searchArtistData(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"GO\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, artistName), React.createElement(\"a\", {\n      href: data.urlWikipedia,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, data.urlWikipedia)));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/robina/Documents/MIAGE/React/bd-musique/src/App.js"],"names":["React","Component","TextField","Autocomplete","ResponsiveBar","ResponsiveBubble","App","constructor","props","state","artist","artistData","topGenres","searchAllResult","name","picture","nameSuggest","input","weight","title","albumTitle","componentDidMount","searchArtistData","searchedArtist","value","trim","setState","request","encodeURI","console","log","fetch","then","response","json","data","getGenrePopularity","limit","chartData","bubbles","_id","children","top","right","bottom","left","scheme","tickSize","tickPadding","from","modifiers","render","artistName","height","map","option","params","urlWikipedia"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,SAASC,aAAT,QAA8B,WAA9B;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AAEA,OAAO,WAAP,C,CAEA;;AAEA,MAAMC,GAAN,SAAkBL,SAAlB,CAA4B;AAE3BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACZ;AACAC,MAAAA,MAAM,EAAE,EAFI;AAGZC,MAAAA,UAAU,EAAE,EAHA;AAIZC,MAAAA,SAAS,EAAE,EAJC;AAKZC,MAAAA,eAAe,EAAE,CAChB;AACAC,QAAAA,IAAI,EAAE,aADN;AAEAC,QAAAA,OAAO,EAAE,uGAFT;AAGAC,QAAAA,WAAW,EAAE;AACbC,UAAAA,KAAK,EAAE,CACP,aADO,EAEP,QAFO,CADM;AAKbC,UAAAA,MAAM,EAAE;AALK;AAHb,OADgB,EAYhB;AACAJ,QAAAA,IAAI,EAAE,4BADN;AAEAC,QAAAA,OAAO,EAAE,uGAFT;AAGAC,QAAAA,WAAW,EAAE;AACbC,UAAAA,KAAK,EAAE,CACP,4BADO,EAEP,uBAFO,CADM;AAKbC,UAAAA,MAAM,EAAE;AALK;AAHb,OAZgB,EAuBhB;AACAJ,QAAAA,IAAI,EAAE,eADN;AAEAC,QAAAA,OAAO,EAAE,uGAFT;AAGAC,QAAAA,WAAW,EAAE;AACbC,UAAAA,KAAK,EAAE,CACP,eADO,EAEP,MAFO,CADM;AAKbC,UAAAA,MAAM,EAAE;AALK;AAHb,OAvBgB,EAkChB;AACAJ,QAAAA,IAAI,EAAE,YADN;AAEAC,QAAAA,OAAO,EAAE,uGAFT;AAGAC,QAAAA,WAAW,EAAE;AACbC,UAAAA,KAAK,EAAE,CACP,YADO,EAEP,QAFO,CADM;AAKbC,UAAAA,MAAM,EAAE;AALK;AAHb,OAlCgB,EA6ChB;AACAJ,QAAAA,IAAI,EAAE,WADN;AAEAC,QAAAA,OAAO,EAAE,uGAFT;AAGAC,QAAAA,WAAW,EAAE;AACbC,UAAAA,KAAK,EAAE,CACP,WADO,EAEP,KAFO,CADM;AAKbC,UAAAA,MAAM,EAAE;AALK;AAHb,OA7CgB,EAwDhB;AACAJ,QAAAA,IAAI,EAAE,MADN;AAEAC,QAAAA,OAAO,EAAE,uGAFT;AAGAC,QAAAA,WAAW,EAAE;AACbC,UAAAA,KAAK,EAAE,CACP,MADO,CADM;AAIbC,UAAAA,MAAM,EAAE;AAJK;AAHb,OAxDgB,EAkEhB;AACAJ,QAAAA,IAAI,EAAE,UADN;AAEAK,QAAAA,KAAK,EAAE,KAFP;AAGAC,QAAAA,UAAU,EAAE,OAHZ;AAIAL,QAAAA,OAAO,EAAE,sGAJT;AAKAG,QAAAA,MAAM,EAAE;AALR,OAlEgB,EAyEhB;AACAJ,QAAAA,IAAI,EAAE,kBADN;AAEAK,QAAAA,KAAK,EAAE,YAFP;AAGAC,QAAAA,UAAU,EAAE,MAHZ;AAIAL,QAAAA,OAAO,EAAE,EAJT;AAKAG,QAAAA,MAAM,EAAE;AALR,OAzEgB,EAgFhB;AACAJ,QAAAA,IAAI,EAAE,oBADN;AAEAK,QAAAA,KAAK,EAAE,SAFP;AAGAC,QAAAA,UAAU,EAAE,gCAHZ;AAIAL,QAAAA,OAAO,EAAE,sGAJT;AAKAG,QAAAA,MAAM,EAAE;AALR,OAhFgB,EAuFhB;AACAJ,QAAAA,IAAI,EAAE,OADN;AAEAK,QAAAA,KAAK,EAAE,mBAFP;AAGAC,QAAAA,UAAU,EAAE,kBAHZ;AAIAL,QAAAA,OAAO,EAAE,EAJT;AAKAG,QAAAA,MAAM,EAAE;AALR,OAvFgB,EA8FhB;AACAJ,QAAAA,IAAI,EAAE,iBADN;AAEAK,QAAAA,KAAK,EAAE,oBAFP;AAGAC,QAAAA,UAAU,EAAE,yCAHZ;AAIAL,QAAAA,OAAO,EAAE,sGAJT;AAKAG,QAAAA,MAAM,EAAE;AALR,OA9FgB,EAqGhB;AACAJ,QAAAA,IAAI,EAAE,cADN;AAEAK,QAAAA,KAAK,EAAE,iBAFP;AAGAC,QAAAA,UAAU,EAAE,aAHZ;AAIAL,QAAAA,OAAO,EAAE,EAJT;AAKAG,QAAAA,MAAM,EAAE;AALR,OArGgB;AALL,KAAb;AAmHA,GAxH0B,CA0H3B;;;AAEAG,EAAAA,iBAAiB,GAAG,CACnB;AACA;;AAEDC,EAAAA,gBAAgB,GAAG;AAClB,UAAMC,cAAc,GAAG,KAAKN,KAAL,CAAWO,KAAX,CAAiBC,IAAjB,EAAvB;AACA,SAAKC,QAAL,CAAc;AAAEhB,MAAAA,MAAM,EAAEa;AAAV,KAAd;AAEA,UAAMI,OAAO,GAAI,kDAAiDC,SAAS,CAACL,cAAD,CAAiB,EAA5F;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AAEAI,IAAAA,KAAK,CAACJ,OAAD,CAAL,CACEK,IADF,CACQC,QAAD,IAAc;AACnB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,KAHF,EAIEF,IAJF,CAIQG,IAAD,IAAU;AACf,UAAGA,IAAI,IAAI,IAAX,EACC,KAAKT,QAAL,CAAc;AAAEf,QAAAA,UAAU,EAAEwB;AAAd,OAAd,EADD,KAGC,KAAKT,QAAL,CAAc;AAAEf,QAAAA,UAAU,EAAE;AAAd,OAAd;AACDkB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrB,KAAL,CAAWE,UAAvB;AACA,KAVF;AAWA;;AAEDyB,EAAAA,kBAAkB,CAACC,KAAD,EAAQ;AACzB,QAAIV,OAAO,GAAI,6DAAf;AACA,QAAGU,KAAH,EACCV,OAAO,IAAK,UAASU,KAAM,EAA3B;AACDR,IAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AAEAI,IAAAA,KAAK,CAACJ,OAAD,CAAL,CACEK,IADF,CACQC,QAAD,IAAc;AACnB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,KAHF,EAIEF,IAJF,CAIQG,IAAD,IAAU;AACf,UAAGA,IAAI,IAAI,IAAX,EACC,KAAKT,QAAL,CAAc;AAAEd,QAAAA,SAAS,EAAEuB;AAAb,OAAd,EADD,KAGC,KAAKT,QAAL,CAAc;AAAEd,QAAAA,SAAS,EAAE;AAAb,OAAd;AACDiB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrB,KAAL,CAAWG,SAAvB;AACA,KAVF;AAYA,UAAM0B,SAAS,GAAG,KAAK7B,KAAL,CAAWG,SAA7B;AACA,UAAM2B,OAAO,GAAG;AACfC,MAAAA,GAAG,EAAE,QADU;AAEfC,MAAAA,QAAQ,EAAE,KAAKhC,KAAL,CAAWG;AAFN,KAAhB;AAKA,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,aAAD;AACC,MAAA,IAAI,EAAE0B,SADP;AAEC,MAAA,OAAO,EAAC,KAFT;AAGC,MAAA,IAAI,EAAE,CAAE,KAAF,CAHP;AAIC,MAAA,MAAM,EAAC,YAJR;AAKC,MAAA,MAAM,EAAE;AAAEI,QAAAA,GAAG,EAAE,EAAP;AAAWC,QAAAA,KAAK,EAAE,EAAlB;AAAsBC,QAAAA,MAAM,EAAE,EAA9B;AAAkCC,QAAAA,IAAI,EAAE;AAAxC,OALT;AAMC,MAAA,MAAM,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OANT;AAOC,MAAA,YAAY,EAAE,EAPf;AAQC,MAAA,WAAW,EAAE,KARd;AASC,MAAA,UAAU,EAAE,IATb;AAUC,MAAA,QAAQ,EAAE;AACTC,QAAAA,QAAQ,EAAE,CADD;AAETC,QAAAA,WAAW,EAAE;AAFJ,OAVX;AAcC,MAAA,cAAc,EAAE;AAAEC,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,SAAS,EAAE,CAAE,CAAE,QAAF,EAAY,GAAZ,CAAF;AAA5B,OAdjB;AAeC,MAAA,aAAa,EAAE,KAfhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAkBC,oBAAC,gBAAD;AACC,MAAA,IAAI,EAAEX,OADP;AAEC,MAAA,QAAQ,EAAC,KAFV;AAGC,MAAA,KAAK,EAAC,KAHP;AAIC,MAAA,UAAU,EAAE,IAJb;AAKC,MAAA,OAAO,EAAE,CALV;AAMC,MAAA,MAAM,EAAE;AAAEG,QAAAA,GAAG,EAAE,EAAP;AAAWC,QAAAA,KAAK,EAAE,EAAlB;AAAsBC,QAAAA,MAAM,EAAE,EAA9B;AAAkCC,QAAAA,IAAI,EAAE;AAAxC,OANT;AAOC,MAAA,MAAM,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAPT;AAQC,MAAA,OAAO,EAAC,MART;AASC,MAAA,cAAc,EAAE;AAAEG,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,SAAS,EAAE,CAAE,CAAE,QAAF,EAAY,GAAZ,CAAF;AAA5B,OATjB;AAUC,MAAA,eAAe,EAAE,CAVlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBD,CADD;AAiCA,GA7M0B,CA+M3B;;;AAEAC,EAAAA,MAAM,GAAG;AAER,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIjB,IAAI,GAAG,EAAX;;AACA,QAAG,KAAK1B,KAAL,CAAWC,MAAX,KAAsB,EAAzB,EAA6B;AAC5B0C,MAAAA,UAAU,GAAG,KAAK3C,KAAL,CAAWC,MAAxB;AACAyB,MAAAA,IAAI,GAAG,KAAK1B,KAAL,CAAWE,UAAlB;AACA;;AAED,UAAME,eAAe,GAAG,KAAKJ,KAAL,CAAWI,eAAnC,CATQ,CAUR;AACA;AAEA;;AAEA,WACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,KAAK,EAAE;AAAEwC,QAAAA,MAAM,EAAG;AAAX,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADD,EAEC,oBAAC,YAAD;AACC,MAAA,QAAQ,MADT;AAEC,MAAA,OAAO,EAAExC,eAAe,CAACyC,GAAhB,CAAoBC,MAAM,IAAIA,MAAM,CAACzC,IAArC,CAFV;AAGC,MAAA,WAAW,EAAE0C,MAAM,IAClB,oBAAC,SAAD,oBACKA,MADL;AAEC;AACA,QAAA,KAAK,EAAC,WAHP;AAIC,QAAA,MAAM,EAAC,QAJR;AAKC,QAAA,OAAO,EAAC,UALT,CAMC;AAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CAFD,EAoBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADD,EAEC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,GAAG,EAAGvC,KAAD,IAAW,KAAKA,KAAL,GAAaA,KAF9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,EAMC;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKK,gBAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAND,EAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI8B,UAAJ,CAPD,EAQC;AAAG,MAAA,IAAI,EAAEjB,IAAI,CAACsB,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BtB,IAAI,CAACsB,YAAlC,CARD,CApBD,CADD;AAkCA;;AAlQ0B;;AAqQ5B,eAAenD,GAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport { TextField } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\n\nimport { ResponsiveBar } from '@nivo/bar'\nimport { ResponsiveBubble } from '@nivo/circle-packing'\n\nimport './App.css'\n\n/////////////////////////////////////////\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\t//hobbies: {},\n\t\t\tartist: '',\n\t\t\tartistData: {},\n\t\t\ttopGenres: [],\n\t\t\tsearchAllResult: [\n\t\t\t\t{\n\t\t\t\tname: \"Iron Maiden\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/artist/082f3e7d6f3f0ae104a4da93c97273d7/56x56-000000-80-0-0.jpg\",\n\t\t\t\tnameSuggest: {\n\t\t\t\tinput: [\n\t\t\t\t\"Iron Maiden\",\n\t\t\t\t\"Maiden\"\n\t\t\t\t],\n\t\t\t\tweight: 1641346\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Idol Worship International\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/artist/9f4f6890ab265a4f2f2b8dc5ac006910/56x56-000000-80-0-0.jpg\",\n\t\t\t\tnameSuggest: {\n\t\t\t\tinput: [\n\t\t\t\t\"Idol Worship International\",\n\t\t\t\t\"Worship International\"\n\t\t\t\t],\n\t\t\t\tweight: 2233676\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"American Idol\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/artist/9f4f6890ab265a4f2f2b8dc5ac006910/56x56-000000-80-0-0.jpg\",\n\t\t\t\tnameSuggest: {\n\t\t\t\tinput: [\n\t\t\t\t\"American Idol\",\n\t\t\t\t\"Idol\"\n\t\t\t\t],\n\t\t\t\tweight: 2233646\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Tal & Irma\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/artist/bf79485167aa163a98bbddfc6acb1e79/56x56-000000-80-0-0.jpg\",\n\t\t\t\tnameSuggest: {\n\t\t\t\tinput: [\n\t\t\t\t\"Tal & Irma\",\n\t\t\t\t\"& Irma\"\n\t\t\t\t],\n\t\t\t\tweight: 342336\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Icona Pop\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/artist/c2c13088156a137f8fe514cb5c7e6b3b/56x56-000000-80-0-0.jpg\",\n\t\t\t\tnameSuggest: {\n\t\t\t\tinput: [\n\t\t\t\t\"Icona Pop\",\n\t\t\t\t\"Pop\"\n\t\t\t\t],\n\t\t\t\tweight: 557993\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Irma\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/artist/c54eebf99aebb6ee5714304e729bcc26/56x56-000000-80-0-0.jpg\",\n\t\t\t\tnameSuggest: {\n\t\t\t\tinput: [\n\t\t\t\t\"Irma\"\n\t\t\t\t],\n\t\t\t\tweight: 146259\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Värttinä\",\n\t\t\t\ttitle: \"Iro\",\n\t\t\t\talbumTitle: \"Kokko\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/cover/3eb7e46516beb064877e04cc2ed4d806/56x56-000000-80-0-0.jpg\",\n\t\t\t\tweight: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Ryuichi Kawamura\",\n\t\t\t\ttitle: \"Namida Iro\",\n\t\t\t\talbumTitle: \"Love\",\n\t\t\t\tpicture: \"\",\n\t\t\t\tweight: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Coheed And Cambria\",\n\t\t\t\ttitle: \"IRO-Bot\",\n\t\t\t\talbumTitle: \"The Second Stage Turbine Blade\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/cover/003ed54487c8a75777301b36ab0e5542/56x56-000000-80-0-0.jpg\",\n\t\t\t\tweight: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"LM. C\",\n\t\t\t\ttitle: \"-SORA Namida Iro-\",\n\t\t\t\talbumTitle: \"Glitter Loud Box\",\n\t\t\t\tpicture: \"\",\n\t\t\t\tweight: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Hayley Westenra\",\n\t\t\t\ttitle: \"Ruri Iro No Chikyu\",\n\t\t\t\talbumTitle: \"The Best Of Hayley Sings Japanese Songs\",\n\t\t\t\tpicture: \"http://e-cdn-images.deezer.com/images/cover/4a3ccd085850a88f35795013493b52ec/56x56-000000-80-0-0.jpg\",\n\t\t\t\tweight: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: \"Cyndi Lauper\",\n\t\t\t\ttitle: \"Gin-Iro No Yume\",\n\t\t\t\talbumTitle: \"Other Songs\",\n\t\t\t\tpicture: \"\",\n\t\t\t\tweight: 0\n\t\t\t\t}\n\t\t\t\t]\n\t\t}\n\t}\n\n\t/////////////////////////////////////////\n\n\tcomponentDidMount() {\n\t\t//this.getGenrePopularity(10);\n\t}\n\n\tsearchArtistData() {\n\t\tconst searchedArtist = this.input.value.trim()\n\t\tthis.setState({ artist: searchedArtist })\n\n\t\tconst request = `https://wasabi.i3s.unice.fr/api/v1/artist/name/${encodeURI(searchedArtist)}`\n\t\tconsole.log(request)\n\n\t\tfetch(request)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tif(data != null)\n\t\t\t\t\tthis.setState({ artistData: data })\n\t\t\t\telse\n\t\t\t\t\tthis.setState({ artistData: {} })\n\t\t\t\tconsole.log(this.state.artistData)\n\t\t\t})\n\t}\n\n\tgetGenrePopularity(limit) {\n\t\tlet request = `https://wasabi.i3s.unice.fr/api/v1/artist/genres/popularity`\n\t\tif(limit)\n\t\t\trequest += `?limit=${limit}`\n\t\tconsole.log(request)\n\n\t\tfetch(request)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tif(data != null)\n\t\t\t\t\tthis.setState({ topGenres: data })\n\t\t\t\telse\n\t\t\t\t\tthis.setState({ topGenres: {} })\n\t\t\t\tconsole.log(this.state.topGenres)\n\t\t\t})\n\t\t\n\t\tconst chartData = this.state.topGenres\n\t\tconst bubbles = {\n\t\t\t_id: \"Genres\",\n\t\t\tchildren: this.state.topGenres\n\t\t}\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<ResponsiveBar\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tindexBy=\"_id\"\n\t\t\t\t\tkeys={[ 'sum' ]}\n\t\t\t\t\tlayout=\"horizontal\"\n\t\t\t\t\tmargin={{ top: 50, right: 50, bottom: 50, left: 150 }}\n\t\t\t\t\tcolors={{ scheme: 'category10' }}\n\t\t\t\t\tborderRadius={10}\n\t\t\t\t\tenableGridY={false}\n\t\t\t\t\taxisBottom={null}\n\t\t\t\t\taxisLeft={{\n\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\ttickPadding: 10\n\t\t\t\t\t}}\n\t\t\t\t\tlabelTextColor={{ from: 'color', modifiers: [ [ 'darker', '2' ] ] }}\n\t\t\t\t\tisInteractive={false}\n\t\t\t\t/>\n\t\t\t\t<ResponsiveBubble\n\t\t\t\t\troot={bubbles}\n\t\t\t\t\tidentity=\"_id\"\n\t\t\t\t\tvalue=\"sum\"\n\t\t\t\t\tleavesOnly={true}\n\t\t\t\t\tpadding={5}\n\t\t\t\t\tmargin={{ top: 20, right: 20, bottom: 20, left: 20 }}\n\t\t\t\t\tcolors={{ scheme: 'paired' }}\n\t\t\t\t\tcolorBy='name'\n\t\t\t\t\tlabelTextColor={{ from: 'color', modifiers: [ [ 'darker', '2' ] ] }}\n\t\t\t\t\tlabelSkipRadius={0}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t/////////////////////////////////////////\n\n\trender() {\n\n\t\tlet artistName = ''\n\t\tlet data = {}\n\t\tif(this.state.artist !== '') {\n\t\t\tartistName = this.state.artist\n\t\t\tdata = this.state.artistData\n\t\t}\n\n\t\tconst searchAllResult = this.state.searchAllResult\n\t\t//const searchArtistResult = []\n\t\t//const searchSongResult = []\n\n\t\t/////////////////////////////////////////\n\n\t\treturn (\n\t\t\t<div className=\"App\" style={{ height : '500px' }}>\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<h3>Chercher un artiste ou une chanson</h3>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\toptions={searchAllResult.map(option => option.name)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t//style={{ width : '300px' }}\n\t\t\t\t\t\t\t\tlabel=\"Recherche\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t//fullWidth\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<h3>Chercher un artiste</h3>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tref={(input) => this.input = input}\n\t\t\t\t\t/>\n\t\t\t\t\t<button onClick={() => this.searchArtistData()}>GO</button>\n\t\t\t\t\t<p>{artistName}</p>\n\t\t\t\t\t<a href={data.urlWikipedia}>{data.urlWikipedia}</a>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}