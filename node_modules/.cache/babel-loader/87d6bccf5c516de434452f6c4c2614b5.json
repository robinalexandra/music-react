{"ast":null,"code":"import _defineProperty from \"/Users/robina/Documents/MIAGE/React/bd-musique/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/robina/Documents/MIAGE/React/bd-musique/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport User from './components/User';\nimport Hobby from './components/Hobby';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hobbies: {\n        hobby0: 'tennis',\n        hobby1: 'golf'\n      }\n    };\n  }\n\n  addHobby() {\n    // faire une copie de l'objet hobbies\n    const hobbies = _objectSpread({}, this.state.hobbies); // Ajouter le nouveau hobby\n\n\n    const timestamp = Date.now();\n    hobbies[\"hobby-\".concat(timestamp)] = this.input.value; // equivalent a : hobbies['hobby' + timestamp] = this.state.input;\n    // on met a jour l'etat\n\n    this.setState({\n      hobbies\n    });\n    console.log(this.state.hobbies);\n  }\n\n  removeHobby(key) {\n    // faire une copie de l'objet hobbies\n    const hobbies = _objectSpread({}, this.state.hobbies); // Supprime le hobby dont la cle key a ete passee en parametres\n    //delete hobbies[key]; // ne marche pas avec firebase\n\n\n    hobbies[key] = null; // Mettre a jour l'etat\n    // En ES6 vous pouvez juste taper {'hobbies'} au lieu de {hobbies:hobbies}\n\n    this.setState({\n      hobbies\n    });\n    console.log(this.state.hobbies);\n  } // Appele avant render\n\n\n  componentWillMount() {\n    console.log(\"Component will mount\");\n    this.ref = base.syncState(\"hobbies\", {\n      context: this,\n      state: 'hobbies'\n    });\n  } // appele quand le composant disparait, par ex\n  // quand on quitte l'application\n\n\n  componentWillUnmount() {\n    console.log(\"Component will unmount\");\n    base.removeBinding(this.ref);\n  }\n\n  render() {\n    console.log(\"render\"); // iterateur sur les proprietes de l'objet  \n\n    let list = Object.keys(this.state.hobbies).map((key, index) => {\n      // key = element courant (propriete courante de l'objet)\n      const hobby = this.state.hobbies[key];\n      const liStyle = {\n        backgroundColor: index % 2 === 0 ? 'lightpink' : 'red'\n      };\n      return React.createElement(\"li\", {\n        key: key,\n        style: liStyle,\n        onClick: () => this.removeHobby(key),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, hobby);\n    });\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Liste des Hobbies :\"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: input => this.input = input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.addHobby(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Add Hobby\"), React.createElement(\"p\", {\n      style: {\n        color: this.state.hobbies.length < 5 ? 'green' : 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Nombre de Hobbies : \", Object.keys(this.state.hobbies).length), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, list));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/robina/Documents/MIAGE/React/bd-musique/src/App.js"],"names":["React","Component","User","Hobby","App","constructor","props","state","hobbies","hobby0","hobby1","addHobby","timestamp","Date","now","input","value","setState","console","log","removeHobby","key","componentWillMount","ref","base","syncState","context","componentWillUnmount","removeBinding","render","list","Object","keys","map","index","hobby","liStyle","backgroundColor","color","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport User from './components/User';\nimport Hobby from './components/Hobby';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hobbies: {\n        hobby0: 'tennis',\n        hobby1: 'golf'\n      }\n    };\n  }\n\n  addHobby() {\n    // faire une copie de l'objet hobbies\n    const hobbies = { ...this.state.hobbies };\n\n    // Ajouter le nouveau hobby\n    const timestamp = Date.now();\n    hobbies[`hobby-${timestamp}`] = this.input.value;\n    // equivalent a : hobbies['hobby' + timestamp] = this.state.input;\n\n    // on met a jour l'etat\n    this.setState({ hobbies });\n    console.log(this.state.hobbies)\n  }\n\n  removeHobby(key) {\n    // faire une copie de l'objet hobbies\n    const hobbies = { ...this.state.hobbies };\n\n    // Supprime le hobby dont la cle key a ete passee en parametres\n    //delete hobbies[key]; // ne marche pas avec firebase\n    hobbies[key] = null;\n\n    // Mettre a jour l'etat\n    // En ES6 vous pouvez juste taper {'hobbies'} au lieu de {hobbies:hobbies}\n    this.setState({ hobbies });\n    console.log(this.state.hobbies)\n  }\n\n  // Appele avant render\n  componentWillMount() {\n    console.log(\"Component will mount\");\n    this.ref = base.syncState(\"hobbies\", {\n      context: this,\n      state: 'hobbies'\n    });\n  }\n\n  // appele quand le composant disparait, par ex\n  // quand on quitte l'application\n  componentWillUnmount() {\n    console.log(\"Component will unmount\");\n    base.removeBinding(this.ref);\n  }\n\n  render() {\n    console.log(\"render\");\n    // iterateur sur les proprietes de l'objet  \n    let list = Object.keys(this.state.hobbies).map((key, index) => {\n      // key = element courant (propriete courante de l'objet)\n      const hobby = this.state.hobbies[key];\n\n      const liStyle = {\n        backgroundColor: index % 2 === 0 ? 'lightpink' : 'red'\n      };\n\n      return <li key={key} style={liStyle} \n        onClick={() => this.removeHobby(key)}>\n        {hobby}\n        </li>\n    });\n\n    return (\n      <div className=\"App\">\n        <h3>Liste des Hobbies :</h3>\n        <input\n          type=\"text\"\n          ref={(input) => this.input = input}\n        />\n        <button onClick={() => this.addHobby()}>Add Hobby</button>\n        <p style={{ color: (this.state.hobbies.length < 5) ? 'green' : 'red' }}>\n          Nombre de Hobbies : {Object.keys(this.state.hobbies).length}\n        </p>\n        <ul>\n          {list}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}